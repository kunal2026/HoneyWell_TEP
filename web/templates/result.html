
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Results</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="card">
    <h1>Results</h1>
    <p><b>Chosen algorithm:</b> {{ algorithm_label }}</p>
    <p><a href="{{ url_for('download', name=download_name) }}">⬇️ Download scored file</a></p>

    <h3>Preview</h3>
    <div class="table-wrap">{{ table_html | safe }}</div>

    <h3>Top 7 Features (aggregate importance)</h3>
    <ul>
      {% for f in top7 %}
        <li>{{ f }}</li>
      {% endfor %}
    </ul>

    <h3>Visualizations</h3>
    <div>
      <h4>Score distribution</h4>
      <img src="{{ url_for('static', filename='plots/score_hist.png') }}" alt="score hist" style="max-width:100%;height:auto;">
    </div>
    <div>
      <h4>Top features</h4>
      <img src="{{ url_for('static', filename='plots/top_features.png') }}" alt="top features" style="max-width:100%;height:auto;">
    </div>
    <div>
      <h4>PCA 2D scatter</h4>
      <img src="{{ url_for('static', filename='plots/pca_scatter.png') }}" alt="pca scatter" style="max-width:100%;height:auto;">
    </div>

    <h3>Algorithm ranking (higher is better)</h3>
    <ol>
      {% for name, score in ranking %}
        <li><code>{{ name }}</code> — metric: {{ "%.4f"|format(score) }}</li>
      {% endfor %}
    </ol>

    <p><a href="{{ url_for('index') }}">← Back</a></p>
  </div>
</body>
</html>
